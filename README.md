# SelectorsHub Playwright Framework

A modular Playwright automation framework for advanced UI, DOM, network, multi-user, and browser-fusion testing.

## Overview

This project is designed as a portfolio-grade automation framework with reusable capability layers and scenario-driven test suites.

Core goals:
- Keep tests readable with modular abstractions
- Cover realistic QA scenarios (DOM complexity, API behavior, concurrent users)
- Support diagnostics with HTML + Allure reporting
- Provide a local mock app/server for stable repeatable execution

## Key Capabilities

- DOM automation
  - Shadow DOM interactions
  - iFrame handling
  - XPath-driven page actions
- Network control
  - API mocking and mutation
  - Request blocking
  - Failure/latency simulation
  - Response logging hooks
- Multi-user testing
  - Parallel browser contexts for role-based scenarios
  - Shared-state and concurrency validations
- Fusion layer (advanced)
  - Cross-user network interception orchestration
  - Browser-context level API behavior injection

## Tech Stack

- Playwright (`@playwright/test`)
- Node.js (ESM project)
- Allure (`allure-playwright`)
- ESLint + Prettier
- JSON Server (`json-server`) for local mock backend

## Project Structure

```text
selectorshub-playwright/
|-- modules/
|   |-- dom/
|   |-- network/
|   `-- advanced/
|       |-- multi-user/
|       `-- fusion/
|-- pages/
|-- tests/
|   |-- smoke/
|   |-- dom/
|   |-- network/
|   |-- multi-user/
|   `-- fusion/
|-- public/
|-- utils/
|-- docs/
|   |-- architecture.md
|   |-- modules.md
|   `-- fusion-explained.md
|-- playwright.config.js
|-- package.json
`-- README.md
```

Note: Some legacy root-level spec files still exist in `tests/` and can be gradually moved into category folders.

## Prerequisites

- Node.js 18+
- npm 9+

## Installation

```bash
npm install
npx playwright install
```

## Run Mock Server

```bash
npm run mock:server
```

App/base URL in config: `http://localhost:3000`

## Run Tests

```bash
npm test
```

Useful variants:

```bash
npm run test:headed
npm run test:debug
npm run test:ui
```

Run tagged suites (examples):

```bash
npx playwright test --grep @network
npx playwright test --grep @multiuser
npx playwright test --grep @fusion
```

## Reporting

Playwright HTML report is generated by default.

Allure commands:

```bash
npm run allure:generate
npm run allure:open
npm run allure:report
```

## Code Quality

```bash
npm run lint
npm run lint:fix
npm run format
npm run format:check
```

## Configuration Highlights

Current `playwright.config.js` behavior:
- `testDir: ./tests`
- Parallel execution enabled (`fullyParallel: true`)
- CI-aware retries/workers
- Multi-reporter setup: HTML, Allure, line, list
- `baseURL: http://localhost:3000`
- Browser projects: Chromium (Chrome channel), Firefox, WebKit

## Documentation

See:
- `docs/architecture.md`
- `docs/modules.md`
- `docs/fusion-explained.md`

## Roadmap Suggestions

- Migrate remaining legacy specs into categorized folders
- Add CI pipeline (GitHub Actions) with artifact upload
- Add test data factories and environment profiles
- Add coverage matrix by module and browser

## License

ISC
